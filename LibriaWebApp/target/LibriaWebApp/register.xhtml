<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Libria — Créer un compte</title>

    <!-- CSS global unique -->
    <h:outputStylesheet name="css/style.css"/>
    <h:outputStylesheet name="css/login.css"/>
    <!-- Icônes PrimeFaces si tu en utilises -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/primeicons/6.0.1/primeicons.min.css"/>
</h:head>

<h:body class="login-page">

    <div class="login-wrapper">
        <div class="login-card">

            <!-- Logo identique au login -->
            <div class="brand-icon-img">
                <img src="#{request.contextPath}/resources/images/logo.png" alt="logo"/>
            </div>


            <!-- Titre / sous-titre -->
            <h2 class="app-title">Créer un compte</h2>
            <p class="subtitle">
                Rejoignez la librairie en ligne et téléchargez vos livres
            </p>

            <!-- Formulaire -->
            <h:form id="registerForm" styleClass="login-form">

                <!-- messages d'erreur / succès -->
                <p:messages id="msgs" closable="true" styleClass="msg-block"/>

                <!-- Identifiant utilisateur -->
                <div class="field">
                    <label>Identifiant</label>
                    <h:outputText value="Sera généré automatiquement (MBxxxx)" />
                </div>

                <!-- Nom complet -->
                <div class="field">
                    <label for="nameField">Nom complet *</label>
                    <p:inputText id="nameField"
                                 value="#{registerBean.name}"
                                 placeholder="ex: Jean Dupont"
                                 required="true"
                                 requiredMessage="Le nom est obligatoire."
                                 styleClass="input"/>
                </div>

                <!-- Email -->
                <div class="field">
                    <label for="emailField">Email *</label>
                    <p:inputText id="emailField"
                                 value="#{registerBean.email}"
                                 placeholder="votre@email.com"
                                 required="true"
                                 requiredMessage="L'email est obligatoire."
                                 styleClass="input">
                    </p:inputText>
                </div>

                <!-- Mot de passe -->
                <div class="field">
                    <label for="pwdField">Mot de passe *</label>
                    <p:password id="pwdField"
                                value="#{registerBean.password}"
                                feedback="false"
                                placeholder="••••••••"
                                required="true"
                                requiredMessage="Le mot de passe est obligatoire."
                                styleClass="input"/>
                </div>

                <!-- Bouton S'inscrire -->
                <p:commandButton value="Créer mon compte"
                                 action="#{registerBean.register}"
                                 update="msgs"
                                 ajax="true"
                                 styleClass="btn-login"
                                 icon="pi pi-user-plus"/>

                <!-- Lien retour login -->
                <div class="register-alt">
                    <span>Déjà un compte ?</span>
                    <h:link outcome="login" styleClass="register-link">
                        Se connecter
                    </h:link>
                </div>

            </h:form>
        </div>
    </div>

</h:body>
</html>